import{j as e}from"./jsx-runtime.CRkqtJS5.js";import{r as n}from"./index.B52nOzfP.js";import{u as m}from"./base.C8vdGNlb.js";function f(){const[r,s]=n.useState("");n.useEffect(()=>{setTimeout(()=>{s("")},3e3)},[r]);function i(o){o.preventDefault();const l=o.currentTarget,c=l.username.value,d=l.password.value;(async()=>{try{const t=await fetch(`${m}/auth/login`,{method:"POST",body:JSON.stringify({username:c,password:d}),headers:{"Content-Type":"application/json"}}),a=await t.json();if(console.log(t,a),t.ok,!a.token)return alert("Datos incorrectos.");localStorage.setItem("token",a.token),window.location.href="/admin/dashboard",s("")}catch{s("Ocurrio un error al enviar el formluario")}})()}return e.jsxs("div",{className:"w-full max-w-sm",children:[r&&e.jsx("p",{className:"absolute right-4 bottom-4 bg-red-400 text-white rounded-lg px-4 py-4",children:r}),e.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-16",children:"Inicia Sesión"}),e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-8 px-[16px]",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-xl text-slate-300 mb-4",children:"Usuario"}),e.jsx("input",{type:"text",name:"username",className:"rounded-md h-12 w-full p-2 bg-slate-200",placeholder:"jose",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-xl text-slate-300 mb-4",children:"Contraseña"}),e.jsx("input",{type:"password",name:"password",className:"rounded-md h-12 w-full p-2 bg-slate-200",placeholder:"*******",required:!0})]}),e.jsx("button",{className:"rounded-md h-12 w-full p-2 bg-fourth text-primary font-medium hover:scale-105 transition-transform duration-100",children:"Enviar"})]})]})}export{f as AuthLogin};
