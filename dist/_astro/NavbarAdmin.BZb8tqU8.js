import{j as r}from"./jsx-runtime.CRkqtJS5.js";import{r as o}from"./index.B52nOzfP.js";import{C as d}from"./CheckApi.Cv_xt6PT.js";const n=o.createContext(void 0),p=({children:e})=>{const[l,i]=o.useState(null),[c,s]=o.useState(!1),[u,a]=o.useState(!1);return o.useEffect(()=>{(async()=>{try{a(!0);const t=await d();if(!t){console.log("entro al error "),window.location.href="/admin/login";return}s(t),t&&i(t)}catch(t){console.error("Error checking API:",t),s(!1)}finally{a(!1)}})()},[]),r.jsx(n.Provider,{value:{user:l,isAuth:c,loading:u},children:e})},g=()=>{const e=o.useContext(n);if(!e)throw new Error("useAuth must be used within a GlobalProvider");return e};function b(){const e=()=>{localStorage.removeItem("token"),window.location.reload()};return r.jsxs("div",{className:"flex justify-between px-[10px] py-[20px]",children:[r.jsx("h1",{className:"font-bold",children:"Dashboard"}),r.jsx("button",{onClick:e,className:"bg-secondary px-5 py-1 rounded-lg text-white",children:"Salir"})]})}export{p as G,b as N,g as u};
