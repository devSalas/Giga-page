import{j as s}from"./jsx-runtime.CRkqtJS5.js";import{r as t}from"./index.B52nOzfP.js";import{u as l}from"./base.myuU_eUG.js";async function u(){const r=localStorage.getItem("token");return r?await(await fetch(`${l}/auth/verify-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).json():!1}function g({children:r}){const[n,o]=t.useState(!1),[i,a]=t.useState(!1),[f,c]=t.useState("");return t.useEffect(()=>{(async()=>{try{a(!0);const e=await u();if(console.log(e),!e)return window.location.href="/admin/login";o(e)}catch(e){console.error("Error checking API:",e),o(!1),c("Ocurrio un error al traer los datos desde el servidor")}finally{a(!1)}})()},[]),s.jsx("div",{className:"w-full min-h-screen ",children:n?r:i?s.jsx("div",{children:"Cargando..."}):s.jsx("div",{children:"Ocurrio un Error"})})}export{g as default};
