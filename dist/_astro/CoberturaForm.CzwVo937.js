import{j as e}from"./jsx-runtime.CRkqtJS5.js";import{r}from"./index.B52nOzfP.js";import{a as b}from"./base.DbDskMeb.js";const w=[{name:"San Juan de Miraflores",value:1},{name:"Santiago de Surco",value:2},{name:"Villa María del Triunfo",value:3}],y=[{name:"Lima",value:1},{name:"Cañete",value:2}];function P(){const[N,f]=r.useState(""),[n,o]=r.useState(!1),[l,i]=r.useState(!1),[h,c]=r.useState(!1);r.useEffect(()=>{const t=setTimeout(()=>{o(!1),i(!1)},3e3);return()=>clearTimeout(t)},[n,l]);const g=t=>{t.preventDefault();const a=new FormData(t.target),j=Object.fromEntries(a.entries()),{provincia:u,distrito:p,nombre:d,telefono:x,dni:m,correo:v}=j;if(!u||!p||!d||!x||!m)return f("LLenar información correcta");(async()=>{try{c(!0);const s=await fetch(b,{method:"POST",body:JSON.stringify({provincia:u,distrito:p,nombre:d,telefono:x,dni:m,correo:v}),headers:{"Content-Type":"Application/json"},credentials:"include"});s.ok||new Error,(await s.json()).status=="success"&&(i(!0),t.target.reset())}catch{o(!0)}finally{c(!1),t.currentTarget.reset()}})()};return e.jsxs("div",{className:"flex flex-col justify-center gap-[30px]",children:[e.jsx("div",{className:" bg-map rounded-[20px] sm:p-[50px] bg-cover shadow-lg	",children:e.jsx("form",{onSubmit:g,className:"bg-primary p-[20px] sm:px-[35px] sm:py-[40px] rounded-[15px] flex flex-col gap-[30px] max-w-[400px] m-auto shadow-2xl",children:e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsxs("select",{name:"provincia",id:"",required:!0,className:"h-[45px] w-full rounded-[20px] px-[10px] bg-slate-100",children:[e.jsx("option",{value:"",children:"Eliga la Provincia"}),y.map((t,a)=>e.jsx("option",{value:t.value,children:t.name},a))]}),e.jsxs("select",{name:"distrito",required:!0,id:"",className:"h-[45px] w-full rounded-[20px] px-[10px] bg-slate-100",children:[e.jsx("option",{value:"",children:"Eliga la distrito"}),w.map((t,a)=>e.jsx("option",{value:t.value,children:t.name},a))]}),e.jsx("input",{name:"nombre",required:!0,type:"text",placeholder:"Nombre Completo",className:"h-[45px] w-full rounded-[20px] px-[10px] bg-slate-100"}),e.jsx("input",{name:"telefono",required:!0,type:"text",placeholder:"Telefono",className:"h-[45px] w-full rounded-[20px] px-[10px] bg-slate-100"}),e.jsx("input",{name:"dni",required:!0,type:"text",placeholder:"DNI",className:"h-[45px] w-full rounded-[20px] px-[10px] bg-slate-100"}),e.jsx("button",{className:"h-[45px] w-full rounded-[20px] px-[10px] bg-secondary  text-white",children:h?e.jsx("div",{className:"flex-col gap-4 w-full flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-8  text-4xl animate-spin border-white flex items-center justify-center border-t-fourth rounded-full"})}):"Enviar"})]})})}),l&&e.jsx("div",{className:"  px-[20px] py-[10px] rounded-md w-full text-white bg-custom-gradient-global ",children:"Perfecto, en un momento nos comunicaremos contigo, gracias."}),n&&e.jsx("div",{className:"w-full  rounded-md  text-white bg-red-500  ",children:e.jsx("p",{className:"px-[20px] py-[10px] ",children:"Ocurrio un Error al enviar el formluario. Intentelo nuevamente, por favor."})})]})}export{P as default};
